<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html lang="en">
<html>

<head>
  <title>Datos mensuales</title>

</head>
<body>
    <style>
      /* Estilos para la tabla */
      table {
        border-collapse: collapse;
        width: 100%;
        max-width: 800px;
        margin: 0 auto;
      }
  
      table th,
      table td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: center;
      }
  
      table th {
        background-color: #0074D9;
        color: white;
        text-align: center;
        font-weight: bold;
      }
  
      /* Estilos para el bot√≥n de descarga */
      button {
        background-color: #0074D9;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        padding: 10px 20px;
        font-size: 16px;
        margin-top: 20px;
        display: block;
        margin: 20px auto 0;
      }
  
      button:hover {
        background-color: #005ca9;
      }
    </style>
  
    <script type="text/javascript">
      function processData(csv) {
        let data = csv.split(/\r\n|\n/).map(v => v.split(','));
        let headers = data.shift();
        let table = document.createElement('table');
        let thead = document.createElement('thead');
        table.appendChild(thead);
        thead.innerHTML = '<tr><th>' + headers.join('</th><th>') + '</th></tr>';
        let tbody = document.createElement('tbody');
        table.appendChild(tbody);
        for (let row of data) {
          tbody.innerHTML += '<tr><td>' + row.join('</td><td>') + '</td></tr>';
        }
        document.body.appendChild(table);
        // Add download button
        const csvData = headers.join(",") + "\n" + data.map(row => row.join(",")).join("\n");
        const downloadButton = document.createElement('button');
        downloadButton.innerHTML = 'Download as CSV';
        downloadButton.onclick = function() {
          const blob = new Blob([csvData], {type: 'text/csv'});
          const url = window.URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.setAttribute('href', url);
          a.setAttribute('download', 'data.csv');
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          window.URL.revokeObjectURL(url);
        };
        document.body.appendChild(downloadButton);
      }
      // I uploaded the CSV to a personal repo for this example,
      // but you CAN use a local file as long as you *serve* it
      fetch("https://raw.githubusercontent.com/PeterArgueta/Folium_clima/master/data/automaticas.csv")
        .then(res => res.text())
        .then(text => processData(text));
    </script>
  </body>
  
  

</html>